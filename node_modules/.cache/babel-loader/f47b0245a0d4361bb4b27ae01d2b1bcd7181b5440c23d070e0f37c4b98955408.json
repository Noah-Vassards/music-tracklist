{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport { musicData } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\nconst INITITAL_FILTER_STATE = {\n  page: 1,\n  itemPerPage: 4,\n  filter: \"\"\n};\nconst INITIAL_STATE = {\n  tracks: [],\n  status: \"idle\"\n};\nexport const loadAsync = createAsyncThunk('loadAsync', async () => {\n  const response = await musicData;\n  return response;\n});\nexport const musicReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track => track.id === action.payload.id ? {\n          ...track,\n          ...action.payload.updatedData\n        } : track)\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      };\n    case loadAsync.pending.type:\n      return {\n        ...state,\n        status: \"loading\"\n      };\n    case loadAsync.fulfilled.type:\n      return {\n        ...state,\n        status: \"idle\",\n        tracks: action.payload\n      };\n    // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return {\n        ...state,\n        status: \"failed\"\n      };\n    default:\n      return state;\n  }\n};\nexport const filterReducer = (state = INITITAL_FILTER_STATE, action) => {\n  switch (action.type) {\n    case \"CHANGE_PAGE\":\n      return {\n        ...state,\n        page: action.payload.newPage\n      };\n    case \"CHANGE_ITEM_PER_PAGE\":\n      return {\n        ...state,\n        itemPerPage: action.payload.newValue\n      };\n    case \"APPLY_FILTER\":\n      return {\n        ...state,\n        filter: action.payload.newFilter\n      };\n    default:\n      return state;\n  }\n};\nexport const rootReducer = combineReducers({\n  musics: musicReducer,\n  filter: filterReducer\n});\nexport default rootReducer;","map":{"version":3,"names":["combineReducers","musicData","createAsyncThunk","swapElements","INITITAL_FILTER_STATE","page","itemPerPage","filter","INITIAL_STATE","tracks","status","loadAsync","response","musicReducer","state","action","type","map","track","id","payload","updatedData","direction","pending","fulfilled","rejected","filterReducer","newPage","newValue","newFilter","rootReducer","musics"],"sources":["/home/nvassards/myjoulebox/music-tracklist/src/redux/rootReducer.ts"],"sourcesContent":["import { combineReducers } from \"redux\";\nimport { musicData, MusicTrack } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\n\ninterface PlaylistState {\n  tracks: MusicTrack[],\n  status: 'idle' | 'loading' | 'failed'\n}\n\ninterface FilterState {\n  page: number,\n  itemPerPage: number,\n  filter: string\n}\n\nconst INITITAL_FILTER_STATE: FilterState = {\n  page: 1,\n  itemPerPage: 4,\n  filter: \"\"\n}\n\nconst INITIAL_STATE: PlaylistState = {\n  tracks: [],\n  status: \"idle\"\n}\n\nexport const loadAsync = createAsyncThunk(\n  'loadAsync',\n  async () => {\n    const response = await musicData\n    return response\n  }\n)\n\nexport const musicReducer = (\n  state = INITIAL_STATE,\n  action: any\n) => {\n\n  switch (action.type) {\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track =>\n          track.id === action.payload.id ? { ...track, ...action.payload.updatedData } : track\n        )\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      }\n\n    case loadAsync.pending.type:\n      return { ...state, status: \"loading\" };\n    case loadAsync.fulfilled.type:\n      return { ...state, status: \"idle\", tracks: action.payload }; // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return { ...state, status: \"failed\" };\n\n    default:\n      return state\n  }\n}\n\nexport const filterReducer = (\n  state = INITITAL_FILTER_STATE,\n  action: any\n) => {\n  switch (action.type) {\n    case \"CHANGE_PAGE\":\n      return { ...state, page: action.payload.newPage };\n    case \"CHANGE_ITEM_PER_PAGE\":\n      return { ...state, itemPerPage: action.payload.newValue };\n    case \"APPLY_FILTER\":\n      return { ...state, filter: action.payload.newFilter};\n    default:\n      return state\n  }\n}\n\nexport const rootReducer = combineReducers({\n  musics: musicReducer,\n  filter: filterReducer\n})\n\n\nexport default rootReducer;\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAoB,kBAAkB;AACxD,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,YAAY,MAAM,uBAAuB;AAahD,MAAMC,qBAAkC,GAAG;EACzCC,IAAI,EAAE,CAAC;EACPC,WAAW,EAAE,CAAC;EACdC,MAAM,EAAE;AACV,CAAC;AAED,MAAMC,aAA4B,GAAG;EACnCC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGT,gBAAgB,CACvC,WAAW,EACX,YAAY;EACV,MAAMU,QAAQ,GAAG,MAAMX,SAAS;EAChC,OAAOW,QAAQ;AACjB,CACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGA,CAC1BC,KAAK,GAAGN,aAAa,EACrBO,MAAW,KACR;EAEH,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,cAAc;MACjB,OAAO;QACL,GAAGF,KAAK;QACRL,MAAM,EAAEK,KAAK,CAACL,MAAM,CAACQ,GAAG,CAACC,KAAK,IAC5BA,KAAK,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,GAAG;UAAE,GAAGD,KAAK;UAAE,GAAGH,MAAM,CAACK,OAAO,CAACC;QAAY,CAAC,GAAGH,KACjF;MACF,CAAC;IACH,KAAK,YAAY;MACf,OAAO;QACL,GAAGJ,KAAK;QACRL,MAAM,EAAEN,YAAY,CAACW,KAAK,CAACL,MAAM,EAAEM,MAAM,CAACK,OAAO,CAACD,EAAE,EAAEJ,MAAM,CAACK,OAAO,CAACE,SAAS;MAChF,CAAC;IAEH,KAAKX,SAAS,CAACY,OAAO,CAACP,IAAI;MACzB,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE;MAAU,CAAC;IACxC,KAAKC,SAAS,CAACa,SAAS,CAACR,IAAI;MAC3B,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE,MAAM;QAAED,MAAM,EAAEM,MAAM,CAACK;MAAQ,CAAC;IAAE;IAC/D,KAAKT,SAAS,CAACc,QAAQ,CAACT,IAAI;MAC1B,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE;MAAS,CAAC;IAEvC;MACE,OAAOI,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMY,aAAa,GAAGA,CAC3BZ,KAAK,GAAGV,qBAAqB,EAC7BW,MAAW,KACR;EACH,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGF,KAAK;QAAET,IAAI,EAAEU,MAAM,CAACK,OAAO,CAACO;MAAQ,CAAC;IACnD,KAAK,sBAAsB;MACzB,OAAO;QAAE,GAAGb,KAAK;QAAER,WAAW,EAAES,MAAM,CAACK,OAAO,CAACQ;MAAS,CAAC;IAC3D,KAAK,cAAc;MACjB,OAAO;QAAE,GAAGd,KAAK;QAAEP,MAAM,EAAEQ,MAAM,CAACK,OAAO,CAACS;MAAS,CAAC;IACtD;MACE,OAAOf,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMgB,WAAW,GAAG9B,eAAe,CAAC;EACzC+B,MAAM,EAAElB,YAAY;EACpBN,MAAM,EAAEmB;AACV,CAAC,CAAC;AAGF,eAAeI,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}