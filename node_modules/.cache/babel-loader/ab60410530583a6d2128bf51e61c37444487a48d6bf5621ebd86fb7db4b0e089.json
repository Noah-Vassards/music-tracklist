{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport { musicData } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\nconst INITIAL_STATE = {\n  tracks: [],\n  status: \"idle\"\n};\nexport const loadAsync = createAsyncThunk('loadAsync', async () => {\n  const response = await musicData;\n  console.log('loadAsync');\n  return response;\n});\nexport const Reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case \"ADD_TRACK\":\n      return {\n        ...state,\n        tracks: [...state.tracks, action.payload]\n      };\n    case \"REMOVE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.filter(track => track.id !== action.payload.id)\n      };\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track => track.id === action.payload.id ? {\n          ...track,\n          ...action.payload.updatedData\n        } : track)\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      };\n    case loadAsync.pending.type:\n      return {\n        ...state,\n        status: \"loading\"\n      };\n    case loadAsync.fulfilled.type:\n      return {\n        ...state,\n        status: \"idle\",\n        tracks: action.payload\n      };\n    // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return {\n        ...state,\n        status: \"failed\"\n      };\n    default:\n      return state;\n  }\n};\n_c = Reducer;\nexport const rootReducer = combineReducers({\n  musics: Reducer\n});\nexport default rootReducer;\nvar _c;\n$RefreshReg$(_c, \"Reducer\");","map":{"version":3,"names":["combineReducers","musicData","createAsyncThunk","swapElements","INITIAL_STATE","tracks","status","loadAsync","response","console","log","Reducer","state","action","type","payload","filter","track","id","map","updatedData","direction","pending","fulfilled","rejected","_c","rootReducer","musics","$RefreshReg$"],"sources":["/home/nvassards/myjoulebox/test-react-playlist/src/redux/rootReducer.ts"],"sourcesContent":["import { combineReducers } from \"redux\";\nimport { musicData, MusicTrack } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\n\ninterface PlaylistState {\n  tracks: MusicTrack[],\n  status: 'idle' | 'loading' | 'failed'\n}\n\nconst INITIAL_STATE: PlaylistState = {\n  tracks: [],\n  status: \"idle\"\n}\n\nexport const loadAsync = createAsyncThunk(\n  'loadAsync',\n  async () => {\n    const response = await musicData\n    console.log('loadAsync')\n    return response\n  }\n)\n\nexport const Reducer = (\n  state = INITIAL_STATE,\n  action: any\n) => {\n\n  switch (action.type) {\n    case \"ADD_TRACK\":\n      return { ...state, tracks: [...state.tracks, action.payload] };\n    case \"REMOVE_TRACK\":\n      return { ...state, tracks: state.tracks.filter(track => track.id !== action.payload.id) };\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track =>\n          track.id === action.payload.id ? { ...track, ...action.payload.updatedData } : track\n        )\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      }\n\n    case loadAsync.pending.type:\n      return { ...state, status: \"loading\" };\n    case loadAsync.fulfilled.type:\n      return { ...state, status: \"idle\", tracks: action.payload }; // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return { ...state, status: \"failed\" };\n\n    default:\n      return state\n  }\n}\n\nexport const rootReducer = combineReducers({\n  musics: Reducer\n})\n\n\nexport default rootReducer;\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAoB,kBAAkB;AACxD,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,YAAY,MAAM,uBAAuB;AAOhD,MAAMC,aAA4B,GAAG;EACnCC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGL,gBAAgB,CACvC,WAAW,EACX,YAAY;EACV,MAAMM,QAAQ,GAAG,MAAMP,SAAS;EAChCQ,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;EACxB,OAAOF,QAAQ;AACjB,CACF,CAAC;AAED,OAAO,MAAMG,OAAO,GAAGA,CACrBC,KAAK,GAAGR,aAAa,EACrBS,MAAW,KACR;EAEH,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,WAAW;MACd,OAAO;QAAE,GAAGF,KAAK;QAAEP,MAAM,EAAE,CAAC,GAAGO,KAAK,CAACP,MAAM,EAAEQ,MAAM,CAACE,OAAO;MAAE,CAAC;IAChE,KAAK,cAAc;MACjB,OAAO;QAAE,GAAGH,KAAK;QAAEP,MAAM,EAAEO,KAAK,CAACP,MAAM,CAACW,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE;MAAE,CAAC;IAC3F,KAAK,cAAc;MACjB,OAAO;QACL,GAAGN,KAAK;QACRP,MAAM,EAAEO,KAAK,CAACP,MAAM,CAACc,GAAG,CAACF,KAAK,IAC5BA,KAAK,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,GAAG;UAAE,GAAGD,KAAK;UAAE,GAAGJ,MAAM,CAACE,OAAO,CAACK;QAAY,CAAC,GAAGH,KACjF;MACF,CAAC;IACH,KAAK,YAAY;MACf,OAAO;QACL,GAAGL,KAAK;QACRP,MAAM,EAAEF,YAAY,CAACS,KAAK,CAACP,MAAM,EAAEQ,MAAM,CAACE,OAAO,CAACG,EAAE,EAAEL,MAAM,CAACE,OAAO,CAACM,SAAS;MAChF,CAAC;IAEH,KAAKd,SAAS,CAACe,OAAO,CAACR,IAAI;MACzB,OAAO;QAAE,GAAGF,KAAK;QAAEN,MAAM,EAAE;MAAU,CAAC;IACxC,KAAKC,SAAS,CAACgB,SAAS,CAACT,IAAI;MAC3B,OAAO;QAAE,GAAGF,KAAK;QAAEN,MAAM,EAAE,MAAM;QAAED,MAAM,EAAEQ,MAAM,CAACE;MAAQ,CAAC;IAAE;IAC/D,KAAKR,SAAS,CAACiB,QAAQ,CAACV,IAAI;MAC1B,OAAO;QAAE,GAAGF,KAAK;QAAEN,MAAM,EAAE;MAAS,CAAC;IAEvC;MACE,OAAOM,KAAK;EAChB;AACF,CAAC;AAAAa,EAAA,GAjCYd,OAAO;AAmCpB,OAAO,MAAMe,WAAW,GAAG1B,eAAe,CAAC;EACzC2B,MAAM,EAAEhB;AACV,CAAC,CAAC;AAGF,eAAee,WAAW;AAAC,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}