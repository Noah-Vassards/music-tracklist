{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport { musicData } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\nconst INITIAL_STATE = {\n  tracks: [],\n  status: \"idle\"\n};\nexport const loadAsync = createAsyncThunk('loadAsync', async () => {\n  const response = await musicData;\n  return response;\n});\nexport const musicReducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case \"ADD_TRACK\":\n      return {\n        ...state,\n        tracks: [...state.tracks, action.payload]\n      };\n    case \"REMOVE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.filter(track => track.id !== action.payload.id)\n      };\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track => {\n          console.log(action.payload.updatedData);\n          return track.id === action.payload.id ? {\n            ...track,\n            ...action.payload.updatedData\n          } : track;\n        })\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      };\n    case loadAsync.pending.type:\n      return {\n        ...state,\n        status: \"loading\"\n      };\n    case loadAsync.fulfilled.type:\n      return {\n        ...state,\n        status: \"idle\",\n        tracks: action.payload\n      };\n    // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return {\n        ...state,\n        status: \"failed\"\n      };\n    default:\n      return state;\n  }\n};\nexport const rootReducer = combineReducers({\n  musics: musicReducer\n});\nexport default rootReducer;","map":{"version":3,"names":["combineReducers","musicData","createAsyncThunk","swapElements","INITIAL_STATE","tracks","status","loadAsync","response","musicReducer","state","action","type","payload","filter","track","id","map","console","log","updatedData","direction","pending","fulfilled","rejected","rootReducer","musics"],"sources":["/home/nvassards/myjoulebox/test-react-playlist/src/redux/rootReducer.ts"],"sourcesContent":["import { combineReducers } from \"redux\";\nimport { musicData, MusicTrack } from \"../assets/musics\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport swapElements from \"../utils/swapElements\";\n\ninterface PlaylistState {\n  tracks: MusicTrack[],\n  status: 'idle' | 'loading' | 'failed'\n}\n\nconst INITIAL_STATE: PlaylistState = {\n  tracks: [],\n  status: \"idle\"\n}\n\nexport const loadAsync = createAsyncThunk(\n  'loadAsync',\n  async () => {\n    const response = await musicData\n    return response\n  }\n)\n\nexport const musicReducer = (\n  state = INITIAL_STATE,\n  action: any\n) => {\n\n  switch (action.type) {\n    case \"ADD_TRACK\":\n      return { ...state, tracks: [...state.tracks, action.payload] };\n    case \"REMOVE_TRACK\":\n      return { ...state, tracks: state.tracks.filter(track => track.id !== action.payload.id) };\n    case \"UPDATE_TRACK\":\n      return {\n        ...state,\n        tracks: state.tracks.map(track =>\n          {console.log(action.payload.updatedData); return track.id === action.payload.id ? { ...track, ...action.payload.updatedData } : track}\n        )\n      };\n    case \"MOVE_TRACK\":\n      return {\n        ...state,\n        tracks: swapElements(state.tracks, action.payload.id, action.payload.direction)\n      }\n\n    case loadAsync.pending.type:\n      return { ...state, status: \"loading\" };\n    case loadAsync.fulfilled.type:\n      return { ...state, status: \"idle\", tracks: action.payload }; // Assuming the response contains tracks\n    case loadAsync.rejected.type:\n      return { ...state, status: \"failed\" };\n\n    default:\n      return state\n  }\n}\n\nexport const rootReducer = combineReducers({\n  musics: musicReducer\n})\n\n\nexport default rootReducer;\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,OAAO;AACvC,SAASC,SAAS,QAAoB,kBAAkB;AACxD,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,YAAY,MAAM,uBAAuB;AAOhD,MAAMC,aAA4B,GAAG;EACnCC,MAAM,EAAE,EAAE;EACVC,MAAM,EAAE;AACV,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGL,gBAAgB,CACvC,WAAW,EACX,YAAY;EACV,MAAMM,QAAQ,GAAG,MAAMP,SAAS;EAChC,OAAOO,QAAQ;AACjB,CACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGA,CAC1BC,KAAK,GAAGN,aAAa,EACrBO,MAAW,KACR;EAEH,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,WAAW;MACd,OAAO;QAAE,GAAGF,KAAK;QAAEL,MAAM,EAAE,CAAC,GAAGK,KAAK,CAACL,MAAM,EAAEM,MAAM,CAACE,OAAO;MAAE,CAAC;IAChE,KAAK,cAAc;MACjB,OAAO;QAAE,GAAGH,KAAK;QAAEL,MAAM,EAAEK,KAAK,CAACL,MAAM,CAACS,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE;MAAE,CAAC;IAC3F,KAAK,cAAc;MACjB,OAAO;QACL,GAAGN,KAAK;QACRL,MAAM,EAAEK,KAAK,CAACL,MAAM,CAACY,GAAG,CAACF,KAAK,IAC5B;UAACG,OAAO,CAACC,GAAG,CAACR,MAAM,CAACE,OAAO,CAACO,WAAW,CAAC;UAAE,OAAOL,KAAK,CAACC,EAAE,KAAKL,MAAM,CAACE,OAAO,CAACG,EAAE,GAAG;YAAE,GAAGD,KAAK;YAAE,GAAGJ,MAAM,CAACE,OAAO,CAACO;UAAY,CAAC,GAAGL,KAAK;QAAA,CACvI;MACF,CAAC;IACH,KAAK,YAAY;MACf,OAAO;QACL,GAAGL,KAAK;QACRL,MAAM,EAAEF,YAAY,CAACO,KAAK,CAACL,MAAM,EAAEM,MAAM,CAACE,OAAO,CAACG,EAAE,EAAEL,MAAM,CAACE,OAAO,CAACQ,SAAS;MAChF,CAAC;IAEH,KAAKd,SAAS,CAACe,OAAO,CAACV,IAAI;MACzB,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE;MAAU,CAAC;IACxC,KAAKC,SAAS,CAACgB,SAAS,CAACX,IAAI;MAC3B,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE,MAAM;QAAED,MAAM,EAAEM,MAAM,CAACE;MAAQ,CAAC;IAAE;IAC/D,KAAKN,SAAS,CAACiB,QAAQ,CAACZ,IAAI;MAC1B,OAAO;QAAE,GAAGF,KAAK;QAAEJ,MAAM,EAAE;MAAS,CAAC;IAEvC;MACE,OAAOI,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMe,WAAW,GAAGzB,eAAe,CAAC;EACzC0B,MAAM,EAAEjB;AACV,CAAC,CAAC;AAGF,eAAegB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}